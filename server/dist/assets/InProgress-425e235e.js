import{j as w,l as T,n,m as s,C as b,L as x,T as t,a3 as v,G as a,E as S}from"./index-cf69f4a9.js";import{c as A}from"./calculateSpentTime-34bf3ad8.js";const C=({toggle:N,setViewId:y})=>{var d;const{data:l}=w(),o=l==null?void 0:l.filter(e=>e.status==="inprogress"),{data:c}=T(),i=(d=c==null?void 0:c.timesheet)==null?void 0:d.find(e=>e.status==="recording"),z={status:i==null?void 0:i.status,morning:i==null?void 0:i.morning,afternoon:i==null?void 0:i.afternoon},r=A(z);return n("div",{className:"space-y-3",children:o==null?void 0:o.map(e=>{var m,h,p,g,u,f;return s(b,{className:"cursor-pointer hover:shadow-xl rounded-md shadow-md transition-all",onClick:()=>{N(),y(e._id)},children:[n("div",{className:"bg-violet-300 w-8 h-1"}),s(x,{pt:15,className:"space-y-1",children:[n(t,{fw:"bold",c:"dark",fz:"sm",children:e.taskname}),n(v,{variant:"filled",color:"violet",size:"sm",children:"in-progress"}),((m=e.timeline)==null?void 0:m.revisions.length)!==0&&s(a,{className:"text-gray-500",spacing:10,children:[n(t,{size:"xs",children:"Revisions"}),s(v,{size:"sm",color:"red",variant:"light",className:"lowercase",children:["x",(h=e.timeline)==null?void 0:h.revisions.length]})]}),s(x,{children:[s(a,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Ticket:"}),n(t,{children:e.ticketno})]}),s(a,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Added:"}),n(t,{children:S(e.createdAt).date})]}),s(a,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Started:"}),n(t,{children:S((p=e.timeline)==null?void 0:p.startedAt).date})]}),(i==null?void 0:i.status)==="recording"&&s(a,{className:"text-gray-500",fz:"xs",spacing:8,children:[((g=e.timeline)==null?void 0:g.revisions.length)!==0?n(t,{children:"Revision time: "}):n(t,{children:"On timesheet: "}),s(t,{fw:"bold",children:[((u=e.timeline)==null?void 0:u.revisions.length)!==0?n("span",{children:"+ "}):"",r.totalSpent.hours===1?r.totalSpent.hours+"hr":r.totalSpent.hours>1?r.totalSpent.hours+"hrs":r.totalSpent.hours===0&&"",r.totalSpent.minutes===1?r.totalSpent.minutes+"min":r.totalSpent.minutes>1?r.totalSpent.minutes+"mins":r.totalSpent.minutes===0&&""]})]}),((f=e.timeline)==null?void 0:f.revisions.length)!==0?s(a,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Recorded spent: "}),n(t,{fw:"bold",children:e.spent})]}):""]})]})]},e._id)})})};export{C as default};
