import{l as E,H as q,m as D,r as h,n as F,i as s,j as e,G as g,k as L,T as a,U as T,B as p,K as o,A as M,q as I,F as x,C as W,ar as B}from"./index-24d6de80.js";import{l as H,E as R,P as U}from"./EmptyState-e33e9fa9.js";import{G as V,C as A}from"./Dashboard-b8ace3b4.js";import{I as _}from"./IconDots-63fcfa75.js";import{I as $}from"./IconInfoCircle-404475d4.js";import{I as K}from"./IconUser-a3b04622.js";import"./InlineInput-54c55443.js";const se=()=>{var w;const{user:c}=E(l=>l.auth),{data:m,isLoading:z}=q(c==null?void 0:c.course),{data:t}=D(),[i,C]=h.useState(!1),[d,v]=h.useState(!1),[S,P]=h.useState(""),[G,{toggle:f}]=F(),[u,Q]=h.useState(1),n=m==null?void 0:m.filter(l=>i?!(t!=null&&t.some(r=>r.assign===l.name&&r.status==="inprogress")):d?t==null?void 0:t.some(r=>r.assign===l.name&&r.status==="forqa"):i&&d?t==null?void 0:t.some(r=>r.assign===l.name&&r.status==="forqa"||r.status==="inprogress"):l),b=H.chunk(n,4),j=(w=b[u-1])==null?void 0:w.map(l=>{var r,N,y;return s("tr",{children:[e("td",{className:" md:table-cell lg:table-cell pl-3 pt-3",children:s(g,{spacing:10,children:[e(L,{src:l.picture,width:35,radius:"xl",imageProps:{referrerPolicy:"no-referrer"},className:"hidden md:flex lg:flex"}),s("div",{className:"-space-y-[2px]",children:[e(a,{className:"font-semibold",children:l.name}),e(a,{c:"dimmed",children:l.email})]})]})}),e("td",{className:"hidden md:table-cell lg:table-cell pl-3 ",children:s(a,{className:"font-semibold",children:[(r=l.hours)==null?void 0:r.ojtHours," ",e("span",{className:"font-normal",children:"hours"})]})}),e("td",{className:"hidden md:table-cell lg:table-cell pl-3 ",children:s(a,{className:"font-semibold",children:[(N=l.hours)==null?void 0:N.pending," ",e("span",{className:"font-normal",children:"hours"})]})}),e("td",{className:"hidden md:table-cell lg:table-cell pl-3 ",children:s(a,{className:"font-semibold",children:[(y=l.hours)==null?void 0:y.rendered," ",e("span",{className:"font-normal",children:"hours"})]})}),e("td",{className:"hidden md:table-cell lg:table-cell pl-3 ",children:s(a,{className:"font-semibold",children:[t==null?void 0:t.filter(k=>k.assign===l.name&&k.status==="completed").length," ",e("span",{className:"font-normal",children:"tasks"})]})}),e("td",{className:" md:table-cell lg:table-cell pt-2",children:(c==null?void 0:c.role)!=="Task manager"?e(T,{to:`../profile/${l._id}`,children:e(p,{variant:"white",color:"cyan",size:"xs",children:"View"})}):s(o,{shadow:"md",transitionProps:{transition:"rotate-right",duration:150},withArrow:!0,children:[e(o.Target,{children:e(M,{variant:"white",color:"cyan",children:e(_,{size:19})})}),s(o.Dropdown,{children:[e(o.Label,{children:"Manage intern"}),e(o.Item,{p:0,className:"bg-white hover:bg-white",children:s(I,{direction:"column",align:"start",children:[e(T,{to:`../profile/${l._id}`,children:e(p,{leftIcon:e($,{size:16}),variant:"white",color:"dark",size:"xs",children:"View"})}),e(p,{onClick:()=>{P(l.name),f()},leftIcon:e(K,{size:16}),variant:"white",color:"cyan",size:"xs",children:"Assign"})]})})]})]})})]})});return s(x,{children:[s(W,{className:"bg-opacity-60 rounded-md shadow-md h-[calc(100vh-100px)] w-full",children:[e("div",{className:"h-[97%]",children:s("table",{className:"border-collapse border-none w-full",children:[e("thead",{children:s("tr",{children:[e("th",{scope:"col",className:"md:px-3 lg:px-3 pl-3 py-3 text-left text-[9px] font-[600] text-gray-400   tracking-wider  bg-gray-100 shadow-sm rounded-tl-md",children:e(a,{children:"Intern"})}),e("th",{scope:"col",className:"hidden md:table-cell lg:table-cell py-3 text-left text-[9px] font-[600] text-gray-400   tracking-wider bg-gray-100 shadow-sm",children:e(a,{children:"Required hours"})}),e("th",{scope:"col",className:" hidden md:table-cell lg:table-cell py-3 text-left text-[9px] font-[600] text-gray-400   tracking-wider bg-gray-100 shadow-sm",children:e(a,{children:"Pending hours"})}),e("th",{scope:"col",className:"hidden  md:table-cell lg:table-cell py-3 text-left text-[9px] font-[600] text-gray-400   tracking-wider bg-gray-100 shadow-sm",children:e(a,{children:"Rendered hours"})}),e("th",{scope:"col",className:" hidden md:table-cell lg:table-cell py-3 text-left text-[9px] font-[600] text-gray-400   tracking-wider bg-gray-100 shadow-sm",children:e(a,{children:"Completed task"})}),e("th",{scope:"col",className:"md:px-3 lg:px-3 py-3 text-left text-[9px] font-[600] text-gray-400   tracking-wider  bg-gray-100 shadow-sm rounded-tr-md",children:e(a,{children:"Action"})})]})}),z?e(x,{children:e(V,{})}):(n==null?void 0:n.length)===0?s(x,{children:[e(R,{text:i?"No members with no task!":d?"No members with forQA task":"No members yet"}),";"]}):e("tbody",{className:"text-xs text-gray-600",children:j})]})}),s(I,{justify:"space-between",className:"relative",children:[s(g,{align:"center",children:[s(g,{spacing:3,children:[e(a,{fz:"xs",className:"uppercase font-semibold text-gray-700",children:"Total:"}),s(a,{fz:"xs",children:[n==null?void 0:n.length," trainee",(n==null?void 0:n.length)>=2&&"s"]})]}),e(A,{checked:i,onChange:l=>C(l.currentTarget.checked),size:"xs",color:"cyan",label:"No inprogress task"}),e(A,{checked:d,onChange:l=>v(l.currentTarget.checked),size:"xs",color:"cyan",label:"With for-QA task"})]}),e(U,{total:b.length,value:u,onChange:Q,size:"xs",color:"cyan",withEdges:!0})]})]}),e(B,{assignTo:S,assign:G,toggle:f})]})};export{se as default};
