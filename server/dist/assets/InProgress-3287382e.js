import{m as w,o as T,p as b,i as s,C as A,j as n,N as x,T as t,a0 as v,G as l,J as N}from"./index-24d6de80.js";const j=({toggle:S,setViewId:y})=>{var d;const{data:c}=w(),r=c==null?void 0:c.filter(e=>e.status==="inprogress"),{data:o}=T(),i=(d=o==null?void 0:o.timesheet)==null?void 0:d.find(e=>e.status==="recording"),z={status:i==null?void 0:i.status,morning:i==null?void 0:i.morning,afternoon:i==null?void 0:i.afternoon},a=b(z);return s("div",{className:"space-y-3",children:[r==null?void 0:r.map(e=>{var m,h,p,g,u,f;return s(A,{className:"cursor-pointer hover:shadow-xl rounded-md shadow-md transition-all",onClick:()=>{S(),y(e._id)},children:[n("div",{className:"bg-violet-300 w-8 h-1"}),s(x,{pt:15,className:"space-y-1",children:[n(t,{fw:"bold",c:"dark",fz:"sm",children:e.taskname}),n(v,{variant:"filled",color:"violet",size:"sm",children:"in-progress"}),((m=e.timeline)==null?void 0:m.revisions.length)!==0&&s(l,{className:"text-gray-500",spacing:10,children:[n(t,{size:"xs",children:"Revisions"}),s(v,{size:"sm",color:"red",variant:"light",className:"lowercase",children:["x",(h=e.timeline)==null?void 0:h.revisions.length]})]}),s(x,{children:[s(l,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Ticket:"}),n(t,{children:e.ticketno})]}),s(l,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Added:"}),n(t,{children:N(e.createdAt).date})]}),s(l,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Started:"}),n(t,{children:N((p=e.timeline)==null?void 0:p.startedAt).date})]}),(i==null?void 0:i.status)==="recording"&&s(l,{className:"text-gray-500",fz:"xs",spacing:8,children:[((g=e.timeline)==null?void 0:g.revisions.length)!==0?n(t,{children:"Revision time: "}):n(t,{children:"On timesheet: "}),s(t,{fw:"bold",children:[((u=e.timeline)==null?void 0:u.revisions.length)!==0?n("span",{children:"+ "}):"",a.totalSpent.hours===1?a.totalSpent.hours+"hr":a.totalSpent.hours>1?a.totalSpent.hours+"hrs":a.totalSpent.hours===0&&"",a.totalSpent.minutes===1?a.totalSpent.minutes+"min":a.totalSpent.minutes>1?a.totalSpent.minutes+"mins":a.totalSpent.minutes===0&&""]})]}),((f=e.timeline)==null?void 0:f.revisions.length)!==0?s(l,{className:"text-gray-500",fz:"xs",spacing:8,children:[n(t,{children:"Recorded spent: "}),n(t,{fw:"bold",children:e.spent})]}):""]})]})]},e._id)}),(r==null?void 0:r.length)===0&&n(t,{c:"dimmed",fs:"italic",fz:"xs",className:"tracking-normal",children:"there are no in progress tasks!"})]})};export{j as default};
