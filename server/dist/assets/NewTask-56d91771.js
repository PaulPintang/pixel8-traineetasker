import{a6 as A,h as u,i as k,j as C,k as b,o as a,C as j,q as v,p as s,G as o,T as t,X as w,a7 as G}from"./index-34c9220a.js";import{I}from"./IconMessage-6a258b3a.js";const T=({toggle:g,setViewId:x})=>{const N=A(),{taskOnNotif:m}=u(e=>e.notif),{data:r}=k(),{data:c}=C(),[y]=b(),{user:d}=u(e=>e.auth),i=r==null?void 0:r.filter(e=>e.status==="new"&&e.assign===(d==null?void 0:d.name)),z=e=>{g(),x(e._id),N(G()),(c==null?void 0:c.find(l=>l.task===m||l.task===e.taskname))&&y({task:e.taskname})};return a("div",{className:"space-y-3",children:[i==null?void 0:i.map(e=>{var l,h,p;const n=c==null?void 0:c.filter(f=>f.task===e.taskname&&f.type==="comment");return a(j,{className:`cursor-pointer hover:shadow-xl rounded-md shadow-md transition-all ${e.taskname===m?"animate-recording shadow-xl ":""}`,onClick:()=>z(e),children:[a(v,{justify:"space-between",align:"center",children:[s("div",{className:"bg-indigo-300 w-8 h-1"}),((l=e.comments)==null?void 0:l.length)??!1?a(o,{spacing:6,children:[s(I,{size:17,className:"text-gray-500"}),s(t,{fz:"xs",c:"dimmed",children:(h=e.comments)==null?void 0:h.length})]}):null]}),a(w,{pt:15,className:"space-y-1",children:[s(t,{fw:"bold",c:"dark",fz:"sm",children:e.taskname}),a("div",{children:[a(o,{className:"text-gray-500",fz:"xs",spacing:8,children:[s(t,{children:"Ticket:"}),s(t,{children:e.ticketno})]}),a(o,{className:"text-gray-500",fz:"xs",spacing:8,children:[s(t,{children:"Added:"}),s(t,{children:(p=e.timeline)==null?void 0:p.createdAt})]})]}),(n==null?void 0:n.length)!==0&&a(t,{className:"text-blue-500 animate-pulse",fz:"xs",children:["+ ",n==null?void 0:n.length," new comment"]})]})]},e._id)}),(i==null?void 0:i.length)===0&&s(t,{c:"dimmed",fs:"italic",fz:"xs",className:"tracking-normal",children:"there are no new tasks!"})]})};export{T as default};
