import{a6 as b,h as C,i as T,j,k,o as a,C as G,q as Q,p as s,G as c,T as l,X as u,Y as N,a7 as B}from"./index-34c9220a.js";import{I as F}from"./IconMessage-6a258b3a.js";const R=({toggle:y,setViewId:z})=>{const A=b(),{taskOnNotif:o}=C(e=>e.notif),{data:d}=T(),{data:n}=j(),[v]=k(),t=d==null?void 0:d.filter(e=>e.status==="forqa"),w=e=>{y(),z(e._id),A(B()),(n==null?void 0:n.some(r=>r.task===o||r.task===e.taskname))&&v({task:e.taskname})};return a("div",{className:"space-y-3",children:[t==null?void 0:t.map(e=>{var r,h,m,p,g,x;const i=n==null?void 0:n.filter(f=>f.task===e.taskname&&f.type==="comment");return a(G,{className:`cursor-pointer hover:shadow-xl rounded-md shadow-md transition-all ${e.taskname===o?"animate-recording shadow-xl ":""}`,onClick:()=>w(e),children:[a(Q,{justify:"space-between",align:"center",children:[s("div",{className:"bg-yellow-300 w-8 h-1"}),((r=e.comments)==null?void 0:r.length)??!1?a(c,{spacing:6,children:[s(F,{size:17,className:"text-gray-500"}),s(l,{fz:"xs",c:"dimmed",children:(h=e.comments)==null?void 0:h.length})]}):null]}),a(u,{pt:13,className:"space-y-1",children:[s(l,{fw:"bold",c:"dark",fz:"sm",children:e.taskname}),s(N,{variant:"filled",color:"yellow",size:"sm",children:"for qa"}),((m=e.timeline)==null?void 0:m.revisions.length)!==0&&a(c,{className:"text-gray-500",spacing:10,children:[s(l,{size:"xs",children:"Revisions"}),a(N,{size:"sm",color:"red",variant:"light",className:"lowercase",children:["x",(p=e.timeline)==null?void 0:p.revisions.length]})]}),a(u,{children:[a(c,{className:"text-gray-500",fz:"xs",spacing:8,children:[s(l,{children:"Ticket:"}),s(l,{children:e.ticketno})]}),a(c,{className:"text-gray-500",fz:"xs",spacing:8,children:[s(l,{children:"Added:"}),s(l,{children:(g=e.timeline)==null?void 0:g.createdAt})]}),a(c,{className:"text-gray-500",fz:"xs",spacing:8,children:[s(l,{children:"Started:"}),s(l,{children:(x=e.timeline)==null?void 0:x.startedAt})]}),a(c,{className:"text-gray-500",fz:"xs",spacing:8,children:[s(l,{children:"Total spent:"}),s(l,{fw:"bold",children:e.spent})]}),(i==null?void 0:i.length)!==0&&a(l,{className:"text-blue-500 animate-pulse",fz:"xs",children:["+ ",i==null?void 0:i.length," new comment"]})]})]})]},e._id)}),(t==null?void 0:t.length)===0&&s(l,{c:"dimmed",fs:"italic",fz:"xs",className:"tracking-normal",children:"there are no for-QA tasks!"})]})};export{R as default};
