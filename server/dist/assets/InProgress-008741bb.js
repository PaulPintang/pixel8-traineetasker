import{h as R,i as j,k as B,l as P,m as r,C as _,n as i,Q as S,T as s,U as w,G as t}from"./index-a5ac19d2.js";const U=({toggle:T,setViewId:A})=>{var o;const{user:l}=R(n=>n.auth),{data:c}=j(),a=c==null?void 0:c.filter(n=>n.status==="inprogress"),{data:d}=B(void 0,{skip:(l==null?void 0:l.role)!=="trainee"}),e=(o=d==null?void 0:d.timesheet)==null?void 0:o.find(n=>n.status==="recording"),b={status:e==null?void 0:e.status,morning:e==null?void 0:e.morning,afternoon:e==null?void 0:e.afternoon},{spent:I,totalSpentString:G,afternoonSpentString:C,morningSpentString:Q}=P(b);return r("div",{className:"space-y-3",children:[a==null?void 0:a.map(n=>{var m,h,g,p,f,x,u,v,N,y,z;return r(_,{className:"cursor-pointer hover:shadow-xl rounded-md shadow-md transition-all",onClick:()=>{T(),A(n._id)},children:[i("div",{className:"bg-violet-300 w-8 h-1"}),r(S,{pt:15,className:"space-y-1",children:[i(s,{fw:"bold",c:"dark",fz:"sm",children:n.taskname}),i(w,{variant:"filled",color:"violet",size:"sm",children:"in-progress"}),((m=n.timeline)==null?void 0:m.revisions.length)!==0&&r(t,{className:"text-gray-500",spacing:10,children:[i(s,{size:"xs",children:"Revisions"}),r(w,{size:"sm",color:"red",variant:"light",className:"lowercase",children:["x",(h=n.timeline)==null?void 0:h.revisions.length]})]}),r(S,{children:[r(t,{className:"text-gray-500",fz:"xs",spacing:8,children:[i(s,{children:"Ticket:"}),i(s,{children:n.ticketno})]}),r(t,{className:"text-gray-500",fz:"xs",spacing:8,children:[i(s,{children:"Added:"}),i(s,{children:(g=n.timeline)==null?void 0:g.createdAt})]}),r(t,{className:"text-gray-500",fz:"xs",spacing:8,children:[i(s,{children:"Started:"}),i(s,{children:(p=n.timeline)==null?void 0:p.startedAt})]}),(e==null?void 0:e.status)==="recording"&&r(t,{className:"text-gray-500",fz:"xs",spacing:8,children:[((f=n.timeline)==null?void 0:f.revisions.length)!==0?i(s,{children:"Revision time: "}):i(s,{children:"On timesheet: "}),r(s,{fw:"bold",className:"animate-recording",children:[((x=n.timeline)==null?void 0:x.revisions.length)!==0?i("span",{children:"+ "}):"",((u=e.morning)==null?void 0:u.start)!==""&&((v=e.morning)==null?void 0:v.end)!==""&&e.status==="recording"?i("span",{children:C}):((N=e.afternoon)==null?void 0:N.start)!==""&&((y=e.afternoon)==null?void 0:y.end)!==""&&e.status==="recording"?i("span",{children:Q}):G]})]}),((z=n.timeline)==null?void 0:z.revisions.length)!==0?r(t,{className:"text-gray-500",fz:"xs",spacing:8,children:[i(s,{children:"Recorded spent: "}),i(s,{fw:"bold",children:n.spent})]}):""]})]})]},n._id)}),(a==null?void 0:a.length)===0&&i(s,{c:"dimmed",fs:"italic",fz:"xs",className:"tracking-normal",children:"there are no in progress tasks!"})]})};export{U as default};
